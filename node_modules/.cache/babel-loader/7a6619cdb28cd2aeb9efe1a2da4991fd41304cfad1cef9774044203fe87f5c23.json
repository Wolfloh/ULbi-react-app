{"ast":null,"code":"import _toConsumableArray from\"D:/FRONT-END/my-react/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"D:/FRONT-END/my-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{BackAside}from'../../components/UI/BackAside/BackAside';import{basket}from'../../stores/BasketStore';import cl from'./Basket.module.scss';import{observer}from'mobx-react-lite';import checkMark from'./checkMark.png';import{Link}from'react-router-dom';import{CSSTransition,TransitionGroup}from'react-transition-group';import'../../styles/App.scss';import{MyButton}from'../../components/UI/button/MyButton';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Basket=observer(function(){var basketList=basket.basketList,removeFromTheBasket=basket.removeFromTheBasket;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),booleans=_useState2[0],setBooleans=_useState2[1];useEffect(function(){setBooleans(basketList.map(function(){return true;}));},[]);var cartWithTheAttribute=JSON.parse(JSON.stringify(basketList));cartWithTheAttribute.forEach(function(prod,index){return prod.checked=booleans[index];});var theFinalBasket=cartWithTheAttribute.filter(function(i){return i.checked===true;});theFinalBasket.forEach(function(i){return delete i.checked;});if(!basketList.length){return/*#__PURE__*/_jsxs(\"div\",{className:cl.empty_wrapper,children:[/*#__PURE__*/_jsx(BackAside,{}),/*#__PURE__*/_jsx(\"h2\",{className:cl.empty_cart,children:\"\\u0412 \\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0435 \\u043F\\u043E\\u043A\\u0430 \\u0447\\u0442\\u043E \\u043D\\u0438\\u0447\\u0435\\u0433\\u043E \\u043D\\u0435\\u0442\"}),/*#__PURE__*/_jsx(Link,{to:'/shop',children:/*#__PURE__*/_jsx(MyButton,{children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"})})]});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(BackAside,{}),/*#__PURE__*/_jsxs(\"div\",{className:cl.basket_body,children:[/*#__PURE__*/_jsx(\"ul\",{className:cl.items_wrapper,children:/*#__PURE__*/_jsx(TransitionGroup,{className:cl.items,children:basketList.map(function(product,index){return/*#__PURE__*/_jsx(CSSTransition,{timeout:300,classNames:\"items__item\",children:/*#__PURE__*/_jsxs(\"li\",{className:cl.items__item,children:[/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"input\",{onChange:function onChange(){var arr=_toConsumableArray(booleans);arr[index]=!booleans[index];setBooleans(arr);},checked:booleans.length>0&&booleans[index],type:\"checkbox\",id:product.id,className:cl.items__input}),/*#__PURE__*/_jsx(\"label\",{className:cl.items__checkbox,htmlFor:product.id,children:/*#__PURE__*/_jsx(\"img\",{src:checkMark,alt:\"checkMark\"})})]}),/*#__PURE__*/_jsxs(Link,{to:\"/shop/\".concat(product.id),className:cl.items__product,children:[/*#__PURE__*/_jsx(\"div\",{className:cl.items__image_wrapper,children:/*#__PURE__*/_jsx(\"img\",{className:cl.items__image,src:product.image,alt:\"product__image\"})}),/*#__PURE__*/_jsx(\"h2\",{className:cl.items__title,children:product.title}),/*#__PURE__*/_jsxs(\"h2\",{className:cl.items__price,children:[product.price,\"$\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){removeFromTheBasket(product.id);var newBooleans=_toConsumableArray(booleans);newBooleans.splice(index,1);setBooleans(newBooleans);},className:cl.items__delete,children:\"\\u0443\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"})]},product.id)},product.id);})})}),/*#__PURE__*/_jsxs(\"div\",{className:cl.order_wrapper,children:[/*#__PURE__*/_jsx(\"button\",{className:cl.order,children:\"\\u043E\\u0444\\u043E\\u0440\\u043C\\u0438\\u0442\\u044C \\u0437\\u0430\\u043A\\u0430\\u0437\"}),/*#__PURE__*/_jsxs(\"div\",{className:cl.order_total,children:[\"\\u0412\\u0441\\u0435\\u0433\\u043E: \",theFinalBasket.length]})]})]})]});});export{Basket};","map":{"version":3,"names":["React","useEffect","useState","BackAside","basket","cl","observer","checkMark","Link","CSSTransition","TransitionGroup","MyButton","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Basket","basketList","removeFromTheBasket","_useState","_useState2","_slicedToArray","booleans","setBooleans","map","cartWithTheAttribute","JSON","parse","stringify","forEach","prod","index","checked","theFinalBasket","filter","i","length","className","empty_wrapper","children","empty_cart","to","basket_body","items_wrapper","items","product","timeout","classNames","items__item","onChange","arr","_toConsumableArray","type","id","items__input","items__checkbox","htmlFor","src","alt","concat","items__product","items__image_wrapper","items__image","image","items__title","title","items__price","price","onClick","newBooleans","splice","items__delete","order_wrapper","order","order_total"],"sources":["D:/FRONT-END/my-react/src/pages/Basket/Basket.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { BackAside } from '../../components/UI/BackAside/BackAside';\r\nimport { basket } from '../../stores/BasketStore'\r\nimport cl from './Basket.module.scss'\r\nimport { observer } from 'mobx-react-lite'\r\nimport checkMark from './checkMark.png'\r\nimport { Link } from 'react-router-dom';\r\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\r\nimport '../../styles/App.scss';\r\nimport { MyButton } from '../../components/UI/button/MyButton'\r\n\r\nconst Basket = observer(() => {\r\n    const { basketList, removeFromTheBasket } = basket;\r\n    const [booleans, setBooleans] = useState([])\r\n    useEffect(() => {\r\n        setBooleans(basketList.map(() => true))\r\n    }, [])\r\n    const cartWithTheAttribute = JSON.parse(JSON.stringify(basketList));\r\n    cartWithTheAttribute\r\n        .forEach((prod, index) => prod.checked = booleans[index])\r\n\r\n    const theFinalBasket =\r\n        cartWithTheAttribute.filter(i => i.checked === true);\r\n    theFinalBasket.forEach(i => delete i.checked)\r\n\r\n\r\n    if (!basketList.length) {\r\n        return (\r\n            <div className={cl.empty_wrapper}>\r\n                <BackAside />\r\n                <h2 className={cl.empty_cart}>В корзине пока что ничего нет</h2>\r\n                <Link to={'/shop'}>\r\n                    <MyButton>Добавить</MyButton>\r\n                </Link>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <BackAside />\r\n            <div className={cl.basket_body}>\r\n                <ul className={cl.items_wrapper}>\r\n                    <TransitionGroup className={cl.items}>\r\n                        {basketList.map((product, index) => {\r\n                            return <CSSTransition key={product.id} timeout={300} classNames='items__item'>\r\n                                <li key={product.id} className={cl.items__item}>\r\n                                    <section>\r\n                                        <input\r\n                                            onChange={() => {\r\n                                                let arr = [...booleans]\r\n                                                arr[index] = !booleans[index];\r\n                                                setBooleans(arr)\r\n                                            }}\r\n                                            checked={booleans.length > 0 && booleans[index]}\r\n                                            type=\"checkbox\"\r\n                                            id={product.id}\r\n                                            className={cl.items__input}\r\n                                        />\r\n                                        <label className={cl.items__checkbox} htmlFor={product.id}>\r\n                                            <img src={checkMark} alt=\"checkMark\" />\r\n                                        </label>\r\n                                    </section>\r\n                                    <Link to={`/shop/${product.id}`} className={cl.items__product}>\r\n                                        <div className={cl.items__image_wrapper}>\r\n                                            <img className={cl.items__image} src={product.image} alt=\"product__image\" />\r\n                                        </div>\r\n                                        <h2 className={cl.items__title}>{product.title}</h2>\r\n                                        <h2 className={cl.items__price}>{product.price}$</h2>\r\n                                    </Link>\r\n                                    <button\r\n                                        onClick={() => {\r\n                                            removeFromTheBasket(product.id)\r\n                                            let newBooleans = [...booleans];\r\n                                            newBooleans.splice(index, 1);\r\n                                            setBooleans(newBooleans)\r\n                                        }}\r\n                                        className={cl.items__delete}>\r\n                                        удалить\r\n                                    </button>\r\n                                </li>\r\n                            </CSSTransition>\r\n                        }\r\n                        )}\r\n                    </TransitionGroup>\r\n                </ul>\r\n                <div className={cl.order_wrapper}>\r\n                    <button className={cl.order}>оформить заказ</button>\r\n                    <div className={cl.order_total}>Всего: {theFinalBasket.length}</div>\r\n                </div>\r\n            </div>\r\n\r\n        </>\r\n\r\n    )\r\n})\r\n\r\nexport { Basket }"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}