{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useRef } from 'react';\nexport const useObserver = (ref, callback, canLoad, isLoading, postsLength) => {\n  _s();\n  const observer = useRef();\n  useEffect(() => {\n    if (isLoading) return;\n    if (observer.current) observer.current.disconnect();\n    const extendPosts = entries => {\n      if (entries[0].isIntersecting && canLoad) {\n        callback();\n      }\n    };\n    observer.current = new IntersectionObserver(extendPosts);\n    if (postsLength) {\n      observer.current.observe(ref);\n    }\n  }, [isLoading]);\n};\n_s(useObserver, \"mvUvGhiqkPzCYiMPAW/Py9ym/ZY=\");","map":{"version":3,"names":["useEffect","useRef","useObserver","ref","callback","canLoad","isLoading","postsLength","_s","observer","current","disconnect","extendPosts","entries","isIntersecting","IntersectionObserver","observe"],"sources":["D:/FRONT-END/my-react/src/hooks/useObserver.js"],"sourcesContent":["import { useEffect, useRef } from 'react';\r\n\r\nexport const useObserver = (ref, callback, canLoad, isLoading, postsLength) => {\r\n    const observer = useRef();\r\n    useEffect(() => {\r\n\r\n        if (isLoading) return;\r\n        if (observer.current) observer.current.disconnect()\r\n        const extendPosts = (entries) => {\r\n            if (entries[0].isIntersecting && canLoad) {\r\n                callback()\r\n            }\r\n        }\r\n        observer.current = new IntersectionObserver(extendPosts);\r\n        if (postsLength) {\r\n            observer.current.observe(ref);\r\n        }\r\n    }, [isLoading])\r\n}"],"mappings":";AAAA,SAASA,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAEzC,OAAO,MAAMC,WAAW,GAAGA,CAACC,GAAG,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,SAAS,EAAEC,WAAW,KAAK;EAAAC,EAAA;EAC3E,MAAMC,QAAQ,GAAGR,MAAM,CAAC,CAAC;EACzBD,SAAS,CAAC,MAAM;IAEZ,IAAIM,SAAS,EAAE;IACf,IAAIG,QAAQ,CAACC,OAAO,EAAED,QAAQ,CAACC,OAAO,CAACC,UAAU,CAAC,CAAC;IACnD,MAAMC,WAAW,GAAIC,OAAO,IAAK;MAC7B,IAAIA,OAAO,CAAC,CAAC,CAAC,CAACC,cAAc,IAAIT,OAAO,EAAE;QACtCD,QAAQ,CAAC,CAAC;MACd;IACJ,CAAC;IACDK,QAAQ,CAACC,OAAO,GAAG,IAAIK,oBAAoB,CAACH,WAAW,CAAC;IACxD,IAAIL,WAAW,EAAE;MACbE,QAAQ,CAACC,OAAO,CAACM,OAAO,CAACb,GAAG,CAAC;IACjC;EACJ,CAAC,EAAE,CAACG,SAAS,CAAC,CAAC;AACnB,CAAC;AAAAE,EAAA,CAhBYN,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}