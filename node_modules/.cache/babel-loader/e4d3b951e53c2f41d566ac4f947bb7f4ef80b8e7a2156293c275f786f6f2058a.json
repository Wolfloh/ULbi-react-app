{"ast":null,"code":"import _slicedToArray from\"D:/FRONT-END/my-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useLocation,useNavigate}from'react-router-dom';import{MyButton}from'../components/UI/button/MyButton';import{userStore}from'../stores/UserStore';import'../styles/App.scss';import{observer}from'mobx-react-lite';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Login=observer(function(){var location=useLocation();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),stringLogin=_useState2[0],setStringLogin=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),stringPass=_useState4[0],setStringPass=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),correctInput=_useState6[0],setCorrectInput=_useState6[1];var fromPage;if(location.state){fromPage=location.state.from;}else{fromPage='/';}var setIsAuth=userStore.setIsAuth;var navigate=useNavigate();return/*#__PURE__*/_jsx(\"div\",{className:\"login-wrapper\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"login__title\",children:\"\\u0412\\u0445\\u043E\\u0434\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){e.preventDefault();if(!stringLogin.match(/[a-z|а-я|A-Z|А-Я]/)||!(stringLogin.length>=5)||!stringPass.match(/[a-z|а-я|A-Z|А-Я]/)||!(stringPass.length>=5)){setCorrectInput(false);return;}setCorrectInput(true);setIsAuth(true);localStorage.setItem('auth','true');navigate(\"\".concat(fromPage),{replace:true});},className:\"login__form\",children:[/*#__PURE__*/_jsx(\"input\",{autoComplete:\"on\",className:\"login__input\",type:\"text\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043B\\u043E\\u0433\\u0438\\u043D\",value:stringLogin,onInput:function onInput(e){return setStringLogin(e.target.value);},name:\"login\"}),/*#__PURE__*/_jsx(\"input\",{autoComplete:\"on\",className:\"login__input\",type:\"password\",placeholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\",value:stringPass,onInput:function onInput(e){return setStringPass(e.target.value);},name:\"password\"}),!correctInput?/*#__PURE__*/_jsx(\"div\",{className:\"login__error\",children:\"\\u043B\\u043E\\u0433\\u0438\\u043D \\u0438 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C \\u0434\\u043E\\u043B\\u0436\\u043D\\u044B \\u0441\\u043E\\u0434\\u0435\\u0440\\u0436\\u0430\\u0442\\u044C \\u043D\\u0435 \\u043C\\u0435\\u043D\\u0435\\u0435 5 \\u0441\\u0438\\u043C\\u0432\\u043E\\u043B\\u043E\\u0432 \\u0438 \\u0438\\u043C\\u0435\\u0442\\u044C \\u0431\\u0443\\u043A\\u0432\\u044B\"}):void 0,/*#__PURE__*/_jsx(MyButton,{children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"login__from\",children:[\"\\u041F\\u0440\\u0438\\u0448\\u0435\\u043B \\u0438\\u0437 \",fromPage]})]})});});","map":{"version":3,"names":["React","useState","useLocation","useNavigate","MyButton","userStore","observer","jsx","_jsx","jsxs","_jsxs","Login","location","_useState","_useState2","_slicedToArray","stringLogin","setStringLogin","_useState3","_useState4","stringPass","setStringPass","_useState5","_useState6","correctInput","setCorrectInput","fromPage","state","from","setIsAuth","navigate","className","children","onSubmit","e","preventDefault","match","length","localStorage","setItem","concat","replace","autoComplete","type","placeholder","value","onInput","target","name"],"sources":["D:/FRONT-END/my-react/src/pages/Login.jsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { useLocation, useNavigate } from 'react-router-dom'\r\nimport { MyButton } from '../components/UI/button/MyButton'\r\nimport { userStore } from '../stores/UserStore'\r\nimport '../styles/App.scss'\r\nimport { observer } from 'mobx-react-lite'\r\n\r\nexport const Login = observer(() => {\r\n    const location = useLocation();\r\n    const [stringLogin, setStringLogin] = useState('')\r\n    const [stringPass, setStringPass] = useState('')\r\n    const [correctInput, setCorrectInput] = useState(true)\r\n    let fromPage;\r\n    if (location.state) {\r\n        fromPage = location.state.from;\r\n    } else {\r\n        fromPage = '/'\r\n    }\r\n    const { setIsAuth } = userStore;\r\n    const navigate = useNavigate();\r\n\r\n\r\n    return (\r\n        <div className='login-wrapper'>\r\n            <div className='login'>\r\n                <h1 className='login__title'>\r\n                    Вход\r\n                </h1>\r\n                <form onSubmit={(e) => {\r\n                    e.preventDefault();\r\n                    if (\r\n                        !stringLogin.match(/[a-z|а-я|A-Z|А-Я]/)\r\n                        ||\r\n                        !(stringLogin.length >= 5)\r\n                        ||\r\n                        !stringPass.match(/[a-z|а-я|A-Z|А-Я]/)\r\n                        ||\r\n                        !(stringPass.length >= 5)\r\n                    ) {\r\n                        setCorrectInput(false)\r\n                        return;\r\n                    }\r\n                    setCorrectInput(true)\r\n                    setIsAuth(true);\r\n                    localStorage.setItem('auth', 'true');\r\n                    navigate(`${fromPage}`, { replace: true });\r\n                }\r\n                } className='login__form'>\r\n                    <input\r\n                        autoComplete='on'\r\n                        className='login__input'\r\n                        type='text'\r\n                        placeholder='Введите логин'\r\n                        value={stringLogin}\r\n                        onInput={e => setStringLogin(e.target.value)}\r\n                        name='login'\r\n                    />\r\n                    <input\r\n                        autoComplete='on'\r\n                        className='login__input'\r\n                        type='password'\r\n                        placeholder='Введите пароль'\r\n                        value={stringPass}\r\n                        onInput={e => setStringPass(e.target.value)}\r\n                        name='password'\r\n                    />\r\n                    {!correctInput\r\n                        ?\r\n                        <div className='login__error'>логин и пароль должны содержать не менее 5 символов и иметь буквы</div>\r\n                        :\r\n                        void 0\r\n                    }\r\n                    <MyButton>Войти</MyButton>\r\n                </form>\r\n                <div className='login__from'>Пришел из {fromPage}</div>\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\n"],"mappings":"2GAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAC3D,OAASC,QAAQ,KAAQ,kCAAkC,CAC3D,OAASC,SAAS,KAAQ,qBAAqB,CAC/C,MAAO,oBAAoB,CAC3B,OAASC,QAAQ,KAAQ,iBAAiB,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1C,MAAO,IAAM,CAAAC,KAAK,CAAGL,QAAQ,CAAC,UAAM,CAChC,GAAM,CAAAM,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAC9B,IAAAW,SAAA,CAAsCZ,QAAQ,CAAC,EAAE,CAAC,CAAAa,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA3CG,WAAW,CAAAF,UAAA,IAAEG,cAAc,CAAAH,UAAA,IAClC,IAAAI,UAAA,CAAoCjB,QAAQ,CAAC,EAAE,CAAC,CAAAkB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAzCE,UAAU,CAAAD,UAAA,IAAEE,aAAa,CAAAF,UAAA,IAChC,IAAAG,UAAA,CAAwCrB,QAAQ,CAAC,IAAI,CAAC,CAAAsB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAA/CE,YAAY,CAAAD,UAAA,IAAEE,eAAe,CAAAF,UAAA,IACpC,GAAI,CAAAG,QAAQ,CACZ,GAAId,QAAQ,CAACe,KAAK,CAAE,CAChBD,QAAQ,CAAGd,QAAQ,CAACe,KAAK,CAACC,IAAI,CAClC,CAAC,IAAM,CACHF,QAAQ,CAAG,GAAG,CAClB,CACA,GAAQ,CAAAG,SAAS,CAAKxB,SAAS,CAAvBwB,SAAS,CACjB,GAAM,CAAAC,QAAQ,CAAG3B,WAAW,CAAC,CAAC,CAG9B,mBACIK,IAAA,QAAKuB,SAAS,CAAC,eAAe,CAAAC,QAAA,cAC1BtB,KAAA,QAAKqB,SAAS,CAAC,OAAO,CAAAC,QAAA,eAClBxB,IAAA,OAAIuB,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,0BAE7B,CAAI,CAAC,cACLtB,KAAA,SAAMuB,QAAQ,CAAE,SAAAA,SAACC,CAAC,CAAK,CACnBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GACI,CAACnB,WAAW,CAACoB,KAAK,CAAC,mBAAmB,CAAC,EAEvC,EAAEpB,WAAW,CAACqB,MAAM,EAAI,CAAC,CAAC,EAE1B,CAACjB,UAAU,CAACgB,KAAK,CAAC,mBAAmB,CAAC,EAEtC,EAAEhB,UAAU,CAACiB,MAAM,EAAI,CAAC,CAAC,CAC3B,CACEZ,eAAe,CAAC,KAAK,CAAC,CACtB,OACJ,CACAA,eAAe,CAAC,IAAI,CAAC,CACrBI,SAAS,CAAC,IAAI,CAAC,CACfS,YAAY,CAACC,OAAO,CAAC,MAAM,CAAE,MAAM,CAAC,CACpCT,QAAQ,IAAAU,MAAA,CAAId,QAAQ,EAAI,CAAEe,OAAO,CAAE,IAAK,CAAC,CAAC,CAC9C,CACC,CAACV,SAAS,CAAC,aAAa,CAAAC,QAAA,eACrBxB,IAAA,UACIkC,YAAY,CAAC,IAAI,CACjBX,SAAS,CAAC,cAAc,CACxBY,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,2EAAe,CAC3BC,KAAK,CAAE7B,WAAY,CACnB8B,OAAO,CAAE,SAAAA,QAAAZ,CAAC,QAAI,CAAAjB,cAAc,CAACiB,CAAC,CAACa,MAAM,CAACF,KAAK,CAAC,EAAC,CAC7CG,IAAI,CAAC,OAAO,CACf,CAAC,cACFxC,IAAA,UACIkC,YAAY,CAAC,IAAI,CACjBX,SAAS,CAAC,cAAc,CACxBY,IAAI,CAAC,UAAU,CACfC,WAAW,CAAC,iFAAgB,CAC5BC,KAAK,CAAEzB,UAAW,CAClB0B,OAAO,CAAE,SAAAA,QAAAZ,CAAC,QAAI,CAAAb,aAAa,CAACa,CAAC,CAACa,MAAM,CAACF,KAAK,CAAC,EAAC,CAC5CG,IAAI,CAAC,UAAU,CAClB,CAAC,CACD,CAACxB,YAAY,cAEVhB,IAAA,QAAKuB,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,4UAAiE,CAAK,CAAC,CAErG,IAAK,EAAC,cAEVxB,IAAA,CAACJ,QAAQ,EAAA4B,QAAA,CAAC,gCAAK,CAAU,CAAC,EACxB,CAAC,cACPtB,KAAA,QAAKqB,SAAS,CAAC,aAAa,CAAAC,QAAA,EAAC,oDAAU,CAACN,QAAQ,EAAM,CAAC,EACtD,CAAC,CACL,CAAC,CAEd,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}