{"ast":null,"code":"import{useEffect,useRef}from'react';export var useObserver=function useObserver(ref,callback,canLoad,isLoading,postsLength,observe){var observer=useRef();useEffect(function(){if(isLoading)return;if(observer.current)observer.current.disconnect();var extendPosts=function extendPosts(entries){if(entries[0].isIntersecting&&canLoad){callback();}};observer.current=new IntersectionObserver(extendPosts);if(postsLength&&observe){observer.current.observe(ref);}},[isLoading,observe]);};","map":{"version":3,"names":["useEffect","useRef","useObserver","ref","callback","canLoad","isLoading","postsLength","observe","observer","current","disconnect","extendPosts","entries","isIntersecting","IntersectionObserver"],"sources":["D:/FRONT-END/my-react/src/hooks/useObserver.js"],"sourcesContent":["import { useEffect, useRef } from 'react';\r\n\r\nexport const useObserver = (ref, callback, canLoad, isLoading, postsLength, observe) => {\r\n    const observer = useRef();\r\n    useEffect(() => {\r\n\r\n        if (isLoading) return;\r\n        if (observer.current) observer.current.disconnect()\r\n        const extendPosts = (entries) => {\r\n            if (entries[0].isIntersecting && canLoad) {\r\n                callback()\r\n            }\r\n        }\r\n        observer.current = new IntersectionObserver(extendPosts);\r\n        if (postsLength && observe) {\r\n            observer.current.observe(ref);\r\n        }\r\n    }, [isLoading, observe])\r\n}"],"mappings":"AAAA,OAASA,SAAS,CAAEC,MAAM,KAAQ,OAAO,CAEzC,MAAO,IAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIC,GAAG,CAAEC,QAAQ,CAAEC,OAAO,CAAEC,SAAS,CAAEC,WAAW,CAAEC,OAAO,CAAK,CACpF,GAAM,CAAAC,QAAQ,CAAGR,MAAM,CAAC,CAAC,CACzBD,SAAS,CAAC,UAAM,CAEZ,GAAIM,SAAS,CAAE,OACf,GAAIG,QAAQ,CAACC,OAAO,CAAED,QAAQ,CAACC,OAAO,CAACC,UAAU,CAAC,CAAC,CACnD,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIC,OAAO,CAAK,CAC7B,GAAIA,OAAO,CAAC,CAAC,CAAC,CAACC,cAAc,EAAIT,OAAO,CAAE,CACtCD,QAAQ,CAAC,CAAC,CACd,CACJ,CAAC,CACDK,QAAQ,CAACC,OAAO,CAAG,GAAI,CAAAK,oBAAoB,CAACH,WAAW,CAAC,CACxD,GAAIL,WAAW,EAAIC,OAAO,CAAE,CACxBC,QAAQ,CAACC,OAAO,CAACF,OAAO,CAACL,GAAG,CAAC,CACjC,CACJ,CAAC,CAAE,CAACG,SAAS,CAAEE,OAAO,CAAC,CAAC,CAC5B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}