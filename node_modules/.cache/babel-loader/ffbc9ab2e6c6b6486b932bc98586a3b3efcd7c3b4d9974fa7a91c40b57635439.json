{"ast":null,"code":"import _regeneratorRuntime from\"D:/FRONT-END/my-react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/FRONT-END/my-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/FRONT-END/my-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import cl from'./ProductPage.module.scss';import React,{useState}from'react';import{useParams}from'react-router-dom';import{useFetching}from'../../hooks/useFetching';import axios from'axios';import{useEffect}from'react';import{Loader}from'../../components/UI/Loader/Loader.jsx';import{BackAside}from'../../components/UI/BackAside/BackAside';import{basket}from'../../stores/BasketStore';import checkMark from'./checkMark.png';import{observer}from'mobx-react-lite';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProductPage=observer(function(){var _prod$rating,_prod$rating2,_prod$rating3;var basketList=basket.basketList,addToCart=basket.addToCart,removeFromTheBasket=basket.removeFromTheBasket;var _useParams=useParams(),product=_useParams.product;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),prod=_useState2[0],setProd=_useState2[1];var _useFetching=useFetching(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"https://fakestoreapi.com/products/\".concat(product));case 3:res=_context.sent;setProd(res.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}))),_useFetching2=_slicedToArray(_useFetching,3),getProduct=_useFetching2[0],isLoading=_useFetching2[1],error=_useFetching2[2];var added=basketList.filter(function(i){return i.id===prod.id;}).length;var getRating=function getRating(rate){if(rate>4){return cl.product__rate_green;}else if(rate>3){return cl.product__rate_yellow;}else{return cl.product__rate_red;}};useEffect(function(){getProduct();},[]);if(isLoading){return/*#__PURE__*/_jsx(Loader,{});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(BackAside,{}),/*#__PURE__*/_jsxs(\"div\",{className:cl.product,children:[/*#__PURE__*/_jsx(\"div\",{className:cl.product__img_wrapper,children:/*#__PURE__*/_jsx(\"img\",{src:prod.image})}),/*#__PURE__*/_jsxs(\"div\",{className:cl.product__title_rate,children:[/*#__PURE__*/_jsx(\"h2\",{className:cl.product__title,children:prod.title}),/*#__PURE__*/_jsxs(\"div\",{className:cl.product__rate_wrapper,children:[/*#__PURE__*/_jsx(\"span\",{className:\"\".concat(getRating((_prod$rating=prod.rating)===null||_prod$rating===void 0?void 0:_prod$rating.rate),\" \").concat(cl.product__rate),children:(_prod$rating2=prod.rating)===null||_prod$rating2===void 0?void 0:_prod$rating2.rate}),/*#__PURE__*/_jsxs(\"div\",{className:cl.product__reviews,children:[\"/ reviews \",(_prod$rating3=prod.rating)===null||_prod$rating3===void 0?void 0:_prod$rating3.count]})]})]}),/*#__PURE__*/_jsx(\"p\",{className:cl.product__description,children:prod.id===20?\"95%Cotton,5%Spandex, Features: Casual, Short Sleeve, Letter Print,V-Neck,Fashion Tees, The fabric is soft and has some stretch., Occasion: Casual/ Office/ Beach/ School/ Home/ Street. Season: Spring, Summer, Autumn, Winter.\":prod.description}),/*#__PURE__*/_jsxs(\"div\",{className:cl.product__price_basket,children:[/*#__PURE__*/_jsxs(\"h2\",{className:cl.product__price,children:[prod.price,\"$\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){if(added){removeFromTheBasket(prod.id);}else{addToCart(prod);}},className:cl.product__basket,children:added?/*#__PURE__*/_jsx(\"img\",{src:checkMark,alt:\"checkMark\"}):/*#__PURE__*/_jsx(\"div\",{children:\"\\u0412 \\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0443\"})})]})]})]});});export{ProductPage};","map":{"version":3,"names":["cl","React","useState","useParams","useFetching","axios","useEffect","Loader","BackAside","basket","checkMark","observer","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ProductPage","_prod$rating","_prod$rating2","_prod$rating3","basketList","addToCart","removeFromTheBasket","_useParams","product","_useState","_useState2","_slicedToArray","prod","setProd","_useFetching","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","wrap","_callee$","_context","prev","next","get","concat","sent","data","t0","console","log","stop","_useFetching2","getProduct","isLoading","error","added","filter","i","id","length","getRating","rate","product__rate_green","product__rate_yellow","product__rate_red","children","className","product__img_wrapper","src","image","product__title_rate","product__title","title","product__rate_wrapper","rating","product__rate","product__reviews","count","product__description","description","product__price_basket","product__price","price","onClick","product__basket","alt"],"sources":["D:/FRONT-END/my-react/src/pages/ProductPage/ProductPage.jsx"],"sourcesContent":["import cl from './ProductPage.module.scss'\r\nimport React, { useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport { useFetching } from '../../hooks/useFetching';\r\nimport axios from 'axios';\r\nimport { useEffect } from 'react';\r\nimport { Loader } from '../../components/UI/Loader/Loader.jsx'\r\nimport { BackAside } from '../../components/UI/BackAside/BackAside';\r\nimport { basket } from '../../stores/BasketStore';\r\nimport checkMark from './checkMark.png'\r\nimport { observer } from 'mobx-react-lite';\r\n\r\nconst ProductPage = observer(() => {\r\n    const { basketList, addToCart, removeFromTheBasket } = basket;\r\n    const { product } = useParams();\r\n    const [prod, setProd] = useState('')\r\n    const [getProduct, isLoading, error] = useFetching(async () => {\r\n        try {\r\n            const res = await axios.get(`https://fakestoreapi.com/products/${product}`)\r\n            setProd(res.data)\r\n        } catch (err) {\r\n            console.log(err);\r\n        }\r\n    })\r\n    const added = basketList.filter(i => i.id === prod.id).length;\r\n\r\n    const getRating = (rate) => {\r\n        if (rate > 4) {\r\n            return cl.product__rate_green\r\n        } else if (rate > 3) {\r\n            return cl.product__rate_yellow\r\n        } else {\r\n            return cl.product__rate_red\r\n        }\r\n    }\r\n    useEffect(() => {\r\n        getProduct()\r\n    }, [])\r\n\r\n    if (isLoading) {\r\n        return <Loader />\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <BackAside />\r\n            <div className={cl.product}>\r\n                <div className={cl.product__img_wrapper}>\r\n                    <img src={prod.image} />\r\n                </div>\r\n                <div className={cl.product__title_rate}>\r\n                    <h2 className={cl.product__title}>{prod.title}</h2>\r\n                    <div className={cl.product__rate_wrapper}>\r\n                        <span className={`${getRating(prod.rating?.rate)} ${cl.product__rate}`}>\r\n                            {prod.rating?.rate}\r\n                        </span>\r\n                        <div className={cl.product__reviews}>/ reviews {prod.rating?.count}</div>\r\n                    </div>\r\n                </div>\r\n                <p className={cl.product__description}>\r\n                    {prod.id === 20\r\n                        ?\r\n                        `95%Cotton,5%Spandex, Features: Casual, Short Sleeve, Letter Print,V-Neck,Fashion Tees, The fabric is soft and has some stretch., Occasion: Casual/ Office/ Beach/ School/ Home/ Street. Season: Spring, Summer, Autumn, Winter.`\r\n                        :\r\n                        prod.description\r\n                    }\r\n                </p>\r\n                <div className={cl.product__price_basket}>\r\n                    <h2 className={cl.product__price}>{prod.price}$</h2>\r\n                    <button onClick={() => {\r\n                        if (added) {\r\n                            removeFromTheBasket(prod.id)\r\n                        } else {\r\n                            addToCart(prod)\r\n                        }\r\n                    }} className={cl.product__basket}>\r\n                        {added\r\n                            ?\r\n                            <img src={checkMark} alt=\"checkMark\" />\r\n                            :\r\n                            <div>\r\n                                В корзину\r\n                            </div>\r\n                        }\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n})\r\n\r\n\r\n\r\nexport { ProductPage };"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}